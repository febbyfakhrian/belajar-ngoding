{
  "name": "LoopingInspectionFlow",
  "nodes": [
    {
      "id": "start",
      "type": "action",
      "parameters": { "actionKey": "Plc.LampOn" }
    },
    {
      "id": "camera-started",
      "type": "trigger",
      "parameters": { "triggerName": "CAMERA_STARTED" }
    },
    {
      "id": "camera-prepare",
      "type": "action",
      "parameters": { "actionKey": "Camera.Prepare" }
    },
    {
      "id": "lamp-on",
      "type": "action",
      "parameters": { "actionKey": "Plc.SubscribeRead" }
    },
    {
      "id": "wait-trigger",
      "type": "trigger",
      "parameters": { "triggerName": "PLC_READ_RECEIVED" }
    },
    {
      "id": "capture-frame",
      "type": "action",
      "parameters": { "actionKey": "Camera.CaptureFrame" }
    },
    {
      "id": "process-image",
      "type": "action",
      "parameters": { "actionKey": "Grpc.ProcessImage" }
    }
  ],
  "connections": [
    {
      "from": "start",
      "to": "camera-started"
    },
    {
      "from": "camera-started",
      "to": "camera-prepare"
    },
    {
      "from": "camera-prepare",
      "to": "lamp-on"
    },
    {
      "from": "lamp-on",
      "to": "wait-trigger"
    },
    {
      "from": "wait-trigger",
      "to": "capture-frame"
    },
    {
      "from": "capture-frame",
      "to": "process-image"
    },
    {
      "from": "process-image",
      "to": "process-image"
    }
  ]
}